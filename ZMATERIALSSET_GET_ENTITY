  method ZMATERIALSSET_GET_ENTITY.
**TRY.
*CALL METHOD SUPER->ZMATERIALSSET_GET_ENTITY
*  EXPORTING
*    IV_ENTITY_NAME          =
*    IV_ENTITY_SET_NAME      =
*    IV_SOURCE_NAME          =
*    IT_KEY_TAB              =
**    io_request_object       =
**    io_tech_request_context =
*    IT_NAVIGATION_PATH      =
**  IMPORTING
**    er_entity               =
**    es_response_context     =
*    .
**  CATCH /iwbep/cx_mgw_busi_exception.
**  CATCH /iwbep/cx_mgw_tech_exception.
**ENDTRY.

      " Data declarations
  DATA: ls_key        TYPE zcl_zmaterial_gw_mpc=>ts_zmaterials,
        ls_material   TYPE zmaterial,
        lv_matnr      TYPE zmaterial-matnr.

  " Get the key value from the request context
  io_tech_request_context->get_converted_keys(
    IMPORTING
      es_key_values = ls_key
  ).

  lv_matnr = ls_key-matnr.

  " Fetch the material from the database
  SELECT SINGLE * FROM zmaterial INTO @ls_material WHERE matnr = @lv_matnr.

  IF sy-subrc = 0.
    " Map database fields to OData entity structure
    MOVE-CORRESPONDING ls_material TO er_entity.
  ELSE.
    " Raise not found exception
    RAISE EXCEPTION TYPE /iwbep/cx_mgw_busi_exception
      EXPORTING
        textid = /iwbep/cx_mgw_busi_exception=>entity_not_found
        message = |Material { lv_matnr } not found|.
  ENDIF.
  endmethod.
